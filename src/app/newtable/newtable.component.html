<div class="display-section" 
  [style.width.px]="this.child.width" 
  [style.height.px]="this.child.height" 
  [ngStyle]="{'background-color': this.child.pageColor}">
  <!-- (click)="disableContextMenu()" oncontextmenu="return false;"> -->
  <h3>Click to edit the data</h3>
  <div class="downloadLabel" *ngIf="this.child.isDownloadable">
    <mdb-icon 
      icon="download" 
      (click)="sortBy(header)">
    </mdb-icon>
      Download data
    <a href="https://www.google.com.au/"><span></span></a>
  </div>
  <table class="table-bordered">
    <thead [ngStyle]="{'color': this.child.headerTxtColor,'background-color': this.child.headerBGColor}">
      <tr [ngStyle]="{'font-weight': this.child.fontWeight}">
        <th scope="col" 
          [ngStyle]="{'font-size': this.child.headerFontSize+'px', 
            'font-weight': this.child.fontWeight, 
            'text-align': this.child.headerAlignment}">#</th>
        <th scope="col" 
          *ngFor="let header of headers; let id = index" 
          [class.verticalHeader]="this.child.isVertical"
          [ngStyle]="{'font-size': this.child.headerFontSize+'px', 
            'font-weight': this.child.fontWeight, 
            'text-align': this.child.headerAlignment}"
            [attr.contenteditable]="this.child.contenteditable" (keyup)="editHeaderValue(id, 'label', $event)">
            {{header.label}} 
              <mdb-icon 
                *ngIf="header.sortable && this.child.contenteditable" 
                icon="sort" 
                (click)="sortBy(header)">
              </mdb-icon>
        </th>
      </tr>
    </thead>
    <tbody [ngStyle]="{'color': this.child.tableTxtColor}" >
      <tr 
        *ngFor="let d of data | filter : 'desc' : this.child.searchString; let id = index; let odd = odd;" 
        [ngStyle]="{'background-color': odd ? this.child.color : this.child.alternateColor, 'text-align': this.child.textAlignment}">
        <!-- (contextmenu)="onRightClick($event)" > -->
          <th [ngStyle]="{'font-weight': this.child.fontWeight, 'font-size': this.child.tableFontSize+'px'}" scope="row">{{id+1}}</th>
          <td [ngStyle]="{'font-weight': this.child.fontWeight, 'font-size': this.child.tableFontSize+'px'}" 
            [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'title', $event)">
              {{d.title}}
          </td>
          <td [ngStyle]="{'font-weight': this.child.fontWeight, 'font-size': this.child.tableFontSize+'px'}" 
            [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'desc', $event)">
              {{d.desc}}
          </td>
          <td [ngStyle]="{'font-weight': this.child.fontWeight, 'font-size': this.child.tableFontSize+'px'}" 
            [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'budget', $event)">
              {{d.budget}}
          </td>
          <td [ngStyle]="{'font-weight': this.child.fontWeight, 'font-size': this.child.tableFontSize+'px'}" 
            [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'total_DIN_saved_kgs', $event)">
              {{d.total_DIN_saved_kgs}}
          </td>
          <td *ngFor="let ct of buttonText">
            <button mdbBtn color="elegant" rounded="true" size="sm" (click)="buttonClicked(d, ct)">{{ct}}</button>
          </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- <div *ngIf="this.child.show">
  <table class="table w-auto ">
    <thead>
      <tr>
        <th scope="row">#</th>
        <th scope="col" *ngFor="let header of headers; let id = index" 
          [attr.contenteditable]="this.child.contenteditable" (keyup)="editHeaderValue(id, 'label', $event)">
            {{header.label}}
        </th>
      </tr>
    </thead>
    <tbody [ngStyle]="{'color':tableTxtColor}" >
      <tr *ngFor="let d of data ; let id = index;">
        <th scope="row">{{id+1}}</th>
        <td [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'title', $event)">{{d.title}}</td>
        <td [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'desc', $event)">{{d.desc}}</td>
        <td [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'budget', $event)">{{d.budget}}</td>
        <td [attr.contenteditable]="this.child.contenteditable" (keyup)="editValue(id, 'total_DIN_saved_kgs', $event)">{{d.total_DIN_saved_kgs}}</td>
      </tr> 
    </tbody>
  </table>
  <button mdbBtn rounded="true" color="elegant" outline="true" mdbWavesEffect (click)="this.child.show = false">Close</button>
</div> -->

<!-- <div class="context-menu" *ngIf="contextmenu" [ngStyle]="{'left.px': contextmenuX, 'top.px': contextmenuY}">
  <ul>
      <li *ngFor = "let item of menuItems" >{{item}}</li>
  </ul>
    Right clicked {{nRightClicks}} time(s).
</div> -->
<app-edit-section 
  (widthUpdated)="widthUpdatedHandler($event)"
  (heightUpdated)="heightUpdatedHandler($event)">
</app-edit-section>